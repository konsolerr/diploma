\lstdefinelanguage{R}{%
  sensitive=false,
  keywords={class, TRUE, FALSE, function, return, null, catch, if, in, while, do, else, case},
  showstringspaces=false,
  belowskip=0em,
  aboveskip=0em,
  morecomment=[l]{\#},
  morestring=[b]',
  morestring=[b]",
    breaklines=true,
    frame=single,
    literate=
        *{\$}{{{\color{black}\$}}}{1}
        {\%}{{{\color{black}\%}}}{1},
}
